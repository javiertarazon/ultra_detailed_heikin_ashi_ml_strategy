# üìö CONSOLIDADO GU√çAS OPERATIVAS

> **üìÖ Fecha de Consolidaci√≥n**: 14 de Octubre de 2025
> **üéØ Versi√≥n del Sistema**: 3.0
> **üìã Tipo**: Gu√≠as de Uso, Configuraci√≥n y Troubleshooting

---

## üìã √çNDICE

1. [Gu√≠a de Inicio R√°pido](#inicio-rapido)
2. [Configuraci√≥n del Sistema](#configuracion-sistema)
3. [Gu√≠a de Uso por Modo](#guia-uso-modos)
4. [Monitoreo y Dashboard](#monitoreo-dashboard)
5. [Troubleshooting](#troubleshooting-guia)
6. [Mejores Pr√°cticas](#mejores-practicas)
7. [Mantenimiento del Sistema](#mantenimiento)
8. [Referencias y Ap√©ndices](#referencias)

---

## üöÄ GU√çA DE INICIO R√ÅPIDO {#inicio-rapido}

### üéØ Para Principiantes - 5 Minutos

#### **Paso 1: Verificar Requisitos**
```bash
# Verificar que estamos en el directorio correcto
cd C:\Users\javie\copilot\botcopilot-sar\descarga_datos
dir main.py  # Debe existir
```

#### **Paso 2: Configuraci√≥n B√°sica**
```bash
# 1. Copiar template de configuraci√≥n
copy .env.example .env

# 2. Editar .env con tus API keys (para sandbox)
notepad .env
```

#### **Paso 3: Validaci√≥n del Sistema**
```powershell
# Ejecutar validaci√≥n completa
python validate_modular_system.py
```

#### **Paso 4: Primer Backtest**
```powershell
# Ejecutar backtest b√°sico
python main.py --backtest --config config/config.yaml
```

#### **Paso 5: Ver Resultados**
```powershell
# Ver dashboard de resultados
python -m streamlit run utils/dashboard.py
```

### üéØ Para Usuarios Avanzados - 15 Minutos

#### **Configuraci√≥n Completa**
```yaml
# config/config.yaml - Configuraci√≥n recomendada
active_exchange: binance
sandbox: true

trading:
  symbol: BNB/USDT
  timeframe: 4h
  strategy: UltraDetailedHeikinAshiML
  
  risk_management:
    max_position_size: 0.02
    max_drawdown: 0.05
    stop_loss_atr: 3.25
    take_profit_atr: 5.5
```

#### **Ejecuci√≥n de Optimizaci√≥n**
```powershell
# Optimizaci√≥n completa
python main.py --optimize --config config/config.yaml --study-name "optimizacion_completa"
```

#### **Live Trading en Sandbox**
```powershell
# Configurar sandbox
.\setup_sandbox.ps1

# Ejecutar live trading
python main.py --live-ccxt
```

---

## ‚öôÔ∏è CONFIGURACI√ìN DEL SISTEMA {#configuracion-sistema}

### üìÅ Estructura de Configuraci√≥n

```
üìÅ Sistema de Configuraci√≥n v2.8
‚îú‚îÄ‚îÄ ‚öôÔ∏è config/config.yaml              # üéõÔ∏è Configuraci√≥n principal
‚îú‚îÄ‚îÄ üîê .env                           # üîë Variables de entorno
‚îú‚îÄ‚îÄ üß™ .env.example                   # üìã Template de variables
‚îú‚îÄ‚îÄ üß™ .env.example.sandbox           # üß™ Template sandbox
‚îî‚îÄ‚îÄ ‚úÖ validate_modular_system.py     # üîç Validador de configuraci√≥n
```

### üéõÔ∏è Archivo config.yaml Principal

#### **Configuraci√≥n B√°sica**
```yaml
# Configuraci√≥n m√≠nima requerida
active_exchange: binance
sandbox: true

exchanges:
  binance:
    sandbox: true
    enabled: true

trading:
  symbol: BNB/USDT
  timeframe: 4h
  strategy: UltraDetailedHeikinAshiML
```

#### **Configuraci√≥n Avanzada**
```yaml
# Configuraci√≥n completa con todas las opciones
system:
  version: "3.0"
  debug: false
  log_level: INFO

active_exchange: binance

exchanges:
  binance:
    sandbox: true
    enabled: true
    api_key_env: BINANCE_API_KEY
    api_secret_env: BINANCE_API_SECRET
    timeout: 30000
    rate_limit: true

trading:
  symbol: BNB/USDT
  timeframe: 4h
  strategy: UltraDetailedHeikinAshiML
  
  # Configuraci√≥n de estrategia
  strategy_config:
    heikin_ashi_period: 14
    ml_model_path: models/BNB_USDT/ml_model.pkl
    feature_window: 20
    
  # Gesti√≥n de riesgos
  risk_management:
    max_position_size: 0.02        # 2% del capital por trade
    max_portfolio_risk: 0.05       # 5% riesgo m√°ximo portfolio
    max_drawdown: 0.05             # 5% drawdown m√°ximo
    max_concurrent_trades: 3       # M√°ximo 3 trades simult√°neos
    
    # Stop loss y take profit
    stop_loss_atr: 3.25            # Multiplicador ATR para SL
    take_profit_atr: 5.5           # Multiplicador ATR para TP
    trailing_stop_enabled: true    # Trailing stop activado
    trailing_stop_percent: 0.25    # 25% trailing stop
    
    # L√≠mites operativos
    max_daily_trades: 10           # M√°ximo 10 trades/d√≠a
    max_daily_loss: 0.03           # M√°ximo 3% p√©rdida diaria
    min_trade_interval: 300        # 5 minutos entre trades
    
  # Configuraci√≥n de datos
  data:
    history_days: 365              # 1 a√±o de datos hist√≥ricos
    update_interval: 60            # Actualizar cada 60 segundos
    cache_enabled: true            # Cache de datos activado
    
  # Configuraci√≥n de logging
  logging:
    level: INFO
    file: logs/bot_trader.log
    max_size: 100                  # 100MB m√°ximo por archivo
    backup_count: 5                # 5 archivos de backup
    
  # Configuraci√≥n de alertas
  alerts:
    telegram_enabled: false
    email_enabled: false
    webhook_enabled: false
```

### üîê Variables de Entorno (.env)

#### **Configuraci√≥n para Sandbox**
```bash
# .env - Configuraci√≥n segura (NO commitear a git)
# API Keys de Binance Testnet (sandbox)
BINANCE_API_KEY=tu_api_key_de_testnet_aqui
BINANCE_API_SECRET=tu_api_secret_de_testnet_aqui

# Configuraci√≥n del sistema
SANDBOX_MODE=true
ACTIVE_EXCHANGE=binance
DEBUG_MODE=false

# Base de datos (opcional)
DATABASE_URL=sqlite:///trading_bot.db

# Alertas (opcional)
TELEGRAM_BOT_TOKEN=tu_token_aqui
TELEGRAM_CHAT_ID=tu_chat_id_aqui
```

#### **Configuraci√≥n para Producci√≥n**
```bash
# .env.production - Configuraci√≥n de producci√≥n
# ‚ö†Ô∏è  NUNCA usar estas keys en sandbox mode
BINANCE_API_KEY=tu_api_key_de_produccion_aqui
BINANCE_API_SECRET=tu_api_secret_de_produccion_aqui

SANDBOX_MODE=false
ACTIVE_EXCHANGE=binance
DEBUG_MODE=false

# Configuraci√≥n adicional de producci√≥n
LOG_LEVEL=WARNING
BACKUP_ENABLED=true
MONITORING_ENABLED=true
```

### üîç Validaci√≥n de Configuraci√≥n

#### **Script de Validaci√≥n Autom√°tica**
```powershell
# Ejecutar validaci√≥n completa
python validate_modular_system.py

# Salida esperada:
# ‚úÖ Sistema modular validado correctamente
# ‚úÖ Configuraci√≥n YAML cargada
# ‚úÖ Variables de entorno configuradas
# ‚úÖ Conectividad con exchange verificada
# ‚úÖ Estrategia cargada correctamente
# ‚úÖ Gesti√≥n de riesgos validada
```

#### **Validaciones por Componente**
```python
def validate_configuration():
    """
    Validaci√≥n completa de configuraci√≥n
    """
    validations = {
        'config_file': validate_config_file(),
        'environment': validate_environment_variables(),
        'exchange': validate_exchange_connection(),
        'strategy': validate_strategy_config(),
        'risk': validate_risk_management(),
        'data': validate_data_access()
    }
    
    failed = [k for k, v in validations.items() if not v]
    
    if failed:
        print(f"‚ùå Validaciones fallidas: {', '.join(failed)}")
        return False
    
    print("‚úÖ Todas las validaciones pasaron")
    return True
```

---

## üéÆ GU√çA DE USO POR MODO {#guia-uso-modos}

### üìä Modo Backtest

#### **Uso B√°sico**
```powershell
# Backtest con configuraci√≥n por defecto
python main.py --backtest

# Backtest con configuraci√≥n espec√≠fica
python main.py --backtest --config config/config.yaml

# Backtest con s√≠mbolo espec√≠fico
python main.py --backtest --symbol BTC/USDT --timeframe 1h
```

#### **Par√°metros Avanzados**
```powershell
# Backtest con per√≠odo espec√≠fico
python main.py --backtest --start-date 2024-01-01 --end-date 2024-12-31

# Backtest con capital inicial personalizado
python main.py --backtest --initial-capital 10000

# Backtest con comisi√≥n personalizada
python main.py --backtest --commission 0.001  # 0.1%
```

#### **Interpretaci√≥n de Resultados**
```python
# Resultados se guardan en:
# - data/dashboard_results/{symbol}_results.json
# - logs/backtesting_*.log

# Ver resultados en dashboard
python -m streamlit run utils/dashboard.py
```

### ü§ñ Modo Optimizaci√≥n

#### **Optimizaci√≥n B√°sica**
```powershell
# Optimizaci√≥n con par√°metros por defecto
python main.py --optimize

# Optimizaci√≥n con nombre de estudio
python main.py --optimize --study-name "optimizacion_bnb"
```

#### **Optimizaci√≥n Avanzada**
```powershell
# Optimizaci√≥n con l√≠mites de tiempo
python main.py --optimize --max-time 3600  # 1 hora m√°xima

# Optimizaci√≥n con trials espec√≠ficos
python main.py --optimize --n-trials 100

# Optimizaci√≥n con par√°metros espec√≠ficos
python main.py --optimize --params "stop_loss_atr,min=2.0,max=4.0" --params "take_profit_atr,min=3.0,max=6.0"
```

#### **Resultados de Optimizaci√≥n**
```python
# Resultados se guardan en:
# - data/optimization_results/
# - data/optimization_pipeline/

# Ver mejores configuraciones
python -c "import json; print(json.load(open('data/optimization_results/filtered_results.json')))"
```

### üåê Modo Live Trading

#### **Live Trading en Sandbox**
```powershell
# 1. Configurar sandbox
.\setup_sandbox.ps1

# 2. Validar configuraci√≥n
.\validate_sandbox.ps1

# 3. Ejecutar live trading
python main.py --live-ccxt
```

#### **Live Trading en Producci√≥n**
```powershell
# ‚ö†Ô∏è  PELIGRO: Solo despu√©s de validaci√≥n completa en sandbox

# 1. Cambiar configuraci√≥n a producci√≥n
# Editar config/config.yaml: sandbox: false

# 2. Configurar API keys de producci√≥n en .env

# 3. Validar configuraci√≥n de producci√≥n
python validate_modular_system.py

# 4. Iniciar con capital reducido (10% del total)
python main.py --live-ccxt --initial-capital 1000
```

#### **Monitoreo de Live Trading**
```powershell
# Ver logs en tiempo real
Get-Content logs\bot_trader.log -Wait -Tail 20

# Ver dashboard en vivo
python -m streamlit run utils/dashboard.py --server.headless true

# Ver balance actual
python -c "import ccxt; exchange = ccxt.binance({'sandbox': True}); print(exchange.fetch_balance()['USDT'])"
```

### üìä Modo Dashboard

#### **Dashboard Interactivo**
```powershell
# Iniciar dashboard completo
python -m streamlit run utils/dashboard.py

# Dashboard con puerto espec√≠fico
python -m streamlit run utils/dashboard.py --server.port 8501

# Dashboard en modo headless (para servidores)
python -m streamlit run utils/dashboard.py --server.headless true
```

#### **Funcionalidades del Dashboard**
- **üìä M√©tricas en Tiempo Real**: P&L, win rate, drawdown
- **üìà Gr√°ficos Interactivos**: Equity curve, distribuci√≥n de trades
- **üìã Gesti√≥n de Posiciones**: Ver y cerrar posiciones activas
- **‚öôÔ∏è Configuraci√≥n**: Ajustes en tiempo real
- **üìù Logs**: Visualizaci√≥n de logs del sistema

### üß™ Modo Auditor√≠a

#### **Auditor√≠a del Sistema**
```powershell
# Auditor√≠a completa
python main.py --audit

# Auditor√≠a de configuraci√≥n
python main.py --audit --check config

# Auditor√≠a de datos
python main.py --audit --check data

# Auditor√≠a de resultados
python main.py --audit --check results
```

#### **Reportes de Auditor√≠a**
```python
# Reportes se guardan en:
# - data/auditorias/audit_report_*.md
# - logs/audit_*.log

# Ver √∫ltimo reporte de auditor√≠a
Get-ChildItem data\auditorias\ | Sort-Object LastWriteTime | Select-Object -Last 1 | Get-Content
```

---

## üìä MONITOREO Y DASHBOARD {#monitoreo-dashboard}

### üéØ Dashboard Principal

#### **M√©tricas Principales**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ü§ñ TRADING BOT COPILOT - DASHBOARD PRINCIPAL    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                 ‚îÇ
‚îÇ üìä M√âTRICAS ACTUALES                            ‚îÇ
‚îÇ Total P&L:     $3,370.99     Win Rate: 77.92%   ‚îÇ
‚îÇ Total Trades:  616            Profit Factor: 1.62‚îÇ
‚îÇ Max Drawdown:  6.88%         Sharpe Ratio: -1.41 ‚îÇ
‚îÇ                                                 ‚îÇ
‚îÇ üìà POSICIONES ACTIVAS                           ‚îÇ
‚îÇ BNB/USDT LONG: 0.05 BTC      P&L: +$45.67      ‚îÇ
‚îÇ                                                 ‚îÇ
‚îÇ üìä SE√ëALES RECIENTES                            ‚îÇ
‚îÇ 14:30: BUY BNB/USDT (conf: 0.85)               ‚îÇ
‚îÇ 12:15: SELL ADA/USDT (conf: 0.78)              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### **Gr√°ficos Interactivos**
- **Equity Curve**: Evoluci√≥n del capital con drawdown
- **Trade Distribution**: Histograma de ganancias/p√©rdidas
- **Performance por Hora**: Heatmap de rendimiento temporal
- **Risk Metrics**: Evoluci√≥n de drawdown y volatilidad

### üìä Monitoreo en Tiempo Real

#### **Comandos de Monitoreo**
```powershell
# Monitoreo b√°sico
Get-Content logs\bot_trader.log -Wait -Tail 10

# Monitoreo con filtros
Get-Content logs\bot_trader.log -Wait -Tail 20 | Where-Object { $_ -match "ERROR|CRITICAL" }

# Monitoreo de √≥rdenes
Get-Content logs\orders.log -Wait -Tail 5

# Monitoreo de se√±ales
Get-Content logs\signals.log -Wait -Tail 5
```

#### **Alertas Autom√°ticas**
```python
# Configuraci√≥n de alertas en config.yaml
alerts:
  telegram:
    enabled: true
    bot_token: "tu_token_aqui"
    chat_id: "tu_chat_id_aqui"
    
  email:
    enabled: true
    smtp_server: "smtp.gmail.com"
    smtp_port: 587
    username: "tu_email@gmail.com"
    password: "tu_password"
    
  webhook:
    enabled: true
    url: "https://tu-webhook-url.com/alert"
```

#### **Tipos de Alertas**
- **üö® Cr√≠ticas**: Sistema parado, errores cr√≠ticos
- **‚ö†Ô∏è Advertencias**: Drawdown alto, conectividad perdida
- **üì¢ Informaci√≥n**: Nuevas se√±ales, √≥rdenes ejecutadas
- **üìä Reportes**: Res√∫menes diarios/semanales

---

## üîß TROUBLESHOOTING {#troubleshooting-guia}

### üö® Problemas Comunes y Soluciones

#### **1. Error: "Configuraci√≥n no v√°lida"**
```
S√≠ntomas:
- El sistema no inicia
- Error: "Configuration validation failed"

Soluciones:
1. Verificar sintaxis YAML en config/config.yaml
2. Ejecutar: python validate_modular_system.py
3. Revisar variables de entorno en .env
4. Verificar permisos de archivos
```

#### **2. Error: "Conexi√≥n con exchange fallida"**
```
S√≠ntomas:
- Error de API connection
- Timeout en requests

Soluciones:
1. Verificar conectividad a internet
2. Comprobar API keys en .env
3. Verificar modo sandbox vs producci√≥n
4. Revisar rate limits del exchange
5. Cambiar DNS si es necesario
```

#### **3. Error: "No signals generated"**
```
S√≠ntomas:
- Sistema ejecut√°ndose pero sin se√±ales
- Logs muestran "Waiting for signals"

Soluciones:
1. Verificar timeframe correcto (4h se√±ales cada 4h)
2. Comprobar datos hist√≥ricos suficientes
3. Validar indicadores t√©cnicos
4. Revisar configuraci√≥n de estrategia
5. Verificar modelo ML cargado correctamente
```

#### **4. Error: "Insufficient balance"**
```
S√≠ntomas:
- √ìrdenes rechazadas por balance insuficiente

Soluciones:
1. Verificar balance disponible en exchange
2. Revisar c√°lculo de position size
3. Comprobar comisi√≥n incluida en c√°lculos
4. Validar conversi√≥n de divisas si aplica
```

#### **5. Error: "Memory/CPU high usage"**
```
S√≠ntomas:
- Sistema lento o congelado
- Alto uso de recursos

Soluciones:
1. Reducir ventana de datos hist√≥ricos
2. Disminuir frecuencia de c√°lculos
3. Implementar cache de datos
4. Revisar memory leaks en c√≥digo
5. Considerar reinicio del sistema
```

### üõ†Ô∏è Herramientas de Diagn√≥stico

#### **Diagn√≥stico Autom√°tico**
```powershell
# Ejecutar diagn√≥stico completo
.\diagnostic.ps1

# Diagn√≥stico por componente
python diagnostic.py --check config
python diagnostic.py --check exchange
python diagnostic.py --check data
python diagnostic.py --check strategy
```

#### **Logs y Debugging**
```powershell
# Ver logs con detalle
Get-Content logs\bot_trader.log -Wait | Select-String -Pattern "ERROR|WARNING" -Context 2

# Debug mode activado
$env:DEBUG_MODE = "true"
python main.py --debug

# Profiling de performance
python -m cProfile main.py --profile-output profile.txt
```

#### **Backup y Recovery**
```powershell
# Crear backup completo
.\backup.ps1

# Restaurar desde backup
.\restore.ps1 --backup-date 2025-10-14

# Verificar integridad
python verify_integrity.py
```

---

## üåü MEJORES PR√ÅCTICAS {#mejores-practicas}

### üìä Gesti√≥n de Riesgos

#### **Reglas de Oro**
- **Nunca arriesgar m√°s del 1-2%** del capital por trade
- **Mantener drawdown m√°ximo** por debajo del 5-10%
- **Diversificar** entre m√∫ltiples s√≠mbolos/estrategias
- **Usar siempre stop loss** en todas las posiciones
- **Validar en sandbox** antes de ir a producci√≥n

#### **Position Sizing**
```python
def calculate_safe_position_size(capital, risk_percent, stop_loss_distance):
    """
    C√°lculo seguro de tama√±o de posici√≥n
    """
    # Riesgo m√°ximo por trade
    max_risk = capital * risk_percent  # e.g., 1% = 0.01
    
    # Tama√±o de posici√≥n basado en stop loss
    position_size = max_risk / stop_loss_distance
    
    # Ajustes adicionales de seguridad
    position_size *= 0.8  # 80% del c√°lculo te√≥rico (margen de seguridad)
    
    return min(position_size, capital * 0.05)  # M√°ximo 5% del capital
```

### ü§ñ Automatizaci√≥n Inteligente

#### **Horarios de Operaci√≥n**
```yaml
# Configuraci√≥n recomendada
trading_hours:
  enabled: true
  timezone: UTC
  active_hours: "00:00-23:59"  # 24/7 para crypto
  avoid_high_impact: true      # Evitar noticias de alto impacto
  
# Para mercados tradicionales
trading_hours:
  active_hours: "09:30-16:00"  # NYSE hours
  timezone: America/New_York
  break_hours: "12:00-13:00"  # Lunch break
```

#### **Gesti√≥n Autom√°tica de Posiciones**
- **Trailing Stop**: Ajuste autom√°tico de stop loss
- **Take Profit Parcial**: Cerrar parte de la posici√≥n en ganancias
- **Scale In/Out**: Entrar/salir gradualmente de posiciones
- **Rebalancing**: Ajustar portfolio autom√°ticamente

### üìà Optimizaci√≥n Continua

#### **Monitoreo de Performance**
```python
def monitor_performance_metrics():
    """
    Monitoreo continuo de m√©tricas clave
    """
    metrics = {
        'win_rate': calculate_win_rate(),
        'profit_factor': calculate_profit_factor(),
        'sharpe_ratio': calculate_sharpe_ratio(),
        'max_drawdown': calculate_max_drawdown(),
        'avg_trade_duration': calculate_avg_trade_duration()
    }
    
    # Alertas si m√©tricas fuera de rango
    if metrics['win_rate'] < 0.6:
        alert("Win rate por debajo de 60%")
    
    if metrics['max_drawdown'] > 0.1:
        alert("Drawdown m√°ximo excedido")
    
    return metrics
```

#### **Re-optimizaci√≥n Peri√≥dica**
- **Semanal**: Revisar performance vs benchmarks
- **Mensual**: Re-optimizaci√≥n de par√°metros
- **Trimestral**: Revisi√≥n completa de estrategia
- **Anual**: Cambio de modelo si necesario

### üîê Seguridad Operacional

#### **Protecciones de Seguridad**
```yaml
security:
  # API Keys
  api_key_rotation: 90  # D√≠as para rotar keys
  ip_whitelist: true    # Solo IPs autorizadas
  
  # Sistema
  auto_backup: true
  encryption: true      # Datos sensibles encriptados
  two_factor: true      # 2FA para acceso administrativo
  
  # Trading
  max_daily_trades: 10
  max_daily_loss: 0.03  # 3% p√©rdida m√°xima diaria
  emergency_stop: true  # Stop autom√°tico en condiciones cr√≠ticas
```

#### **Backup y Disaster Recovery**
```powershell
# Backup autom√°tico diario
# - Configuraci√≥n: config/
# - Datos: data/
# - Modelos: models/
# - Logs: logs/

# Recovery procedures
# 1. Detener sistema actual
# 2. Restaurar desde backup
# 3. Validar configuraci√≥n
# 4. Reiniciar con capital reducido
# 5. Monitoreo intensivo 24h
```

---

## üîß MANTENIMIENTO DEL SISTEMA {#mantenimiento}

### üìÖ Rutina de Mantenimiento Semanal

#### **Lunes - Verificaci√≥n del Sistema**
```powershell
# 1. Verificar estado del sistema
python validate_modular_system.py

# 2. Revisar logs de la semana pasada
Get-Content logs\bot_trader.log | Select-String -Pattern "ERROR|WARNING" | Group-Object | Sort-Object Count -Descending

# 3. Verificar espacio en disco
Get-WmiObject -Class Win32_LogicalDisk | Select-Object Size,FreeSpace

# 4. Actualizar dependencias si es necesario
pip list --outdated
```

#### **Martes - Optimizaci√≥n y Performance**
```powershell
# 1. Ejecutar backtest de validaci√≥n
python main.py --backtest --quick

# 2. Revisar m√©tricas de performance
python -c "import psutil; print(f'CPU: {psutil.cpu_percent()}%, Memory: {psutil.virtual_memory().percent}%')"

# 3. Limpiar archivos temporales
Get-ChildItem -Path . -Include *.tmp,*.log.old -Recurse | Remove-Item -Force

# 4. Optimizar base de datos
python optimize_database.py
```

#### **Mi√©rcoles - An√°lisis de Resultados**
```powershell
# 1. Generar reporte semanal
python generate_weekly_report.py

# 2. Analizar performance por s√≠mbolo
python analyze_symbol_performance.py

# 3. Revisar se√±ales generadas vs ejecutadas
python compare_signals_vs_trades.py

# 4. Actualizar dashboard con datos recientes
python update_dashboard_data.py
```

#### **Jueves - Mantenimiento de Modelos**
```powershell
# 1. Re-entrenar modelos ML si es necesario
python retrain_models.py --symbols BNB/USDT,ADA/USDT

# 2. Validar accuracy de modelos
python validate_model_accuracy.py

# 3. Actualizar datasets de entrenamiento
python update_training_data.py

# 4. Backup de modelos entrenados
python backup_models.py
```

#### **Viernes - Preparaci√≥n para la Semana**
```powershell
# 1. Crear backup completo
.\backup.ps1

# 2. Actualizar configuraciones si es necesario
python update_configurations.py

# 3. Probar escenarios de stress
python stress_test.py

# 4. Documentar cambios realizados
python document_changes.py
```

### üìä Monitoreo Continuo

#### **Health Checks Autom√°ticos**
```python
def system_health_check():
    """
    Verificaci√≥n autom√°tica de salud del sistema
    """
    checks = {
        'disk_space': check_disk_space(),
        'memory_usage': check_memory_usage(),
        'cpu_usage': check_cpu_usage(),
        'network_connectivity': check_network(),
        'exchange_connectivity': check_exchange_api(),
        'data_integrity': check_data_integrity(),
        'model_performance': check_model_performance()
    }
    
    failed_checks = [k for k, v in checks.items() if not v]
    
    if failed_checks:
        alert_admin(f"Health check failed: {', '.join(failed_checks)}")
    
    return len(failed_checks) == 0
```

#### **Alertas de Mantenimiento**
- **Espacio en disco bajo**: < 10% disponible
- **Uso de memoria alto**: > 80% por m√°s de 5 minutos
- **Errores de conectividad**: > 5 errores en 1 hora
- **Performance degradada**: Latencia > 30 segundos
- **Datos corruptos**: Checksums no coinciden

### üîÑ Actualizaciones del Sistema

#### **Proceso de Update Seguro**
```powershell
# 1. Crear backup completo
.\backup.ps1 --full

# 2. Detener sistema de trading
python stop_trading.py

# 3. Actualizar c√≥digo
git pull origin main

# 4. Actualizar dependencias
pip install -r requirements.txt --upgrade

# 5. Ejecutar migraciones si existen
python run_migrations.py

# 6. Validar sistema actualizado
python validate_modular_system.py

# 7. Reiniciar con configuraci√≥n de prueba
python main.py --backtest --test-run

# 8. Monitoreo intensivo 24h
# 9. Reinicio completo si todo OK
```

---

## üìö REFERENCIAS Y AP√âNDICES {#referencias}

### üìñ Documentaci√≥n del Sistema

#### **Documentos Principales**
- **[CONSOLIDADO_SISTEMA_MODULAR.md](CONSOLIDADO_SISTEMA_MODULAR.md)** - Arquitectura completa
- **[CONSOLIDADO_OPTIMIZACION_ML.md](CONSOLIDADO_OPTIMIZACION_ML.md)** - Sistema ML y optimizaci√≥n
- **[CONSOLIDADO_TESTING_VALIDACION.md](CONSOLIDADO_TESTING_VALIDACION.md)** - Testing y validaci√≥n
- **[CONSOLIDADO_RESULTADOS_ANALISIS.md](CONSOLIDADO_RESULTADOS_ANALISIS.md)** - Resultados y an√°lisis
- **[CONSOLIDADO_LIVE_TRADING.md](CONSOLIDADO_LIVE_TRADING.md)** - Live trading y sandbox

### üõ†Ô∏è Scripts √ötiles

#### **Scripts de Automatizaci√≥n**
```powershell
# Setup completo del sistema
.\setup_sandbox.ps1

# Validaci√≥n de configuraci√≥n
.\validate_sandbox.ps1

# Backup del sistema
.\backup.ps1

# Diagn√≥stico completo
.\diagnostic.ps1

# Actualizaci√≥n del sistema
.\update_system.ps1
```

#### **Scripts Python √ötiles**
```python
# Validaci√≥n modular
python validate_modular_system.py

# Generar reporte completo
python generate_full_report.py

# Optimizaci√≥n de base de datos
python optimize_database.py

# Verificaci√≥n de integridad
python verify_integrity.py
```

### üåê Recursos Externos

#### **Documentaci√≥n de Exchanges**
- **Binance API**: https://binance-docs.github.io/apidocs/
- **CCXT Library**: https://github.com/ccxt/ccxt
- **Testnet Binance**: https://testnet.binance.vision/

#### **Herramientas Recomendadas**
- **Python**: https://python.org (versi√≥n 3.8+)
- **Streamlit**: https://streamlit.io (para dashboards)
- **Optuna**: https://optuna.org (optimizaci√≥n)
- **TA-Lib**: https://ta-lib.org (indicadores t√©cnicos)

### üìû Soporte y Comunidad

#### **Canales de Soporte**
- **Issues GitHub**: Reportar bugs y solicitar features
- **Discussions**: Preguntas generales y soporte comunitario
- **Wiki**: Documentaci√≥n detallada y tutorials

#### **Mejores Pr√°cticas de Soporte**
- Incluir logs relevantes al reportar issues
- Proporcionar configuraci√≥n an√≥nima (sin API keys)
- Describir pasos para reproducir el problema
- Incluir informaci√≥n del sistema (OS, Python version, etc.)

---

## üéØ **ESTADO ACTUAL DE LAS GU√çAS v2.8**

### ‚úÖ **Gu√≠as Completadas**
- **üöÄ Inicio R√°pido**: Para principiantes y avanzados
- **‚öôÔ∏è Configuraci√≥n**: Setup completo del sistema
- **üéÆ Modos de Uso**: Backtest, optimizaci√≥n, live trading, dashboard
- **üìä Monitoreo**: Dashboard y alertas en tiempo real
- **üîß Troubleshooting**: Soluci√≥n de problemas comunes
- **üåü Mejores Pr√°cticas**: Gesti√≥n de riesgos y automatizaci√≥n
- **üîß Mantenimiento**: Rutinas semanales y actualizaciones

### üìö **Recursos Disponibles**
- **Scripts de Automatizaci√≥n**: Setup, validaci√≥n, backup, diagn√≥stico
- **Herramientas de Monitoreo**: Dashboard, logs, alertas
- **Documentaci√≥n Completa**: 6 documentos consolidados
- **Referencias Externas**: APIs, bibliotecas, herramientas

### üéØ **Pr√≥ximos Pasos Recomendados**
- **Leer documentaci√≥n completa** antes de operar
- **Comenzar con sandbox** para familiarizaci√≥n
- **Validar configuraci√≥n** antes de cada sesi√≥n
- **Implementar monitoreo** continuo
- **Seguir mejores pr√°cticas** de riesgo

---

*üìö **Esta gu√≠a consolida todo el conocimiento operativo del sistema. Siga las mejores pr√°cticas para maximizar la seguridad y rentabilidad de sus operaciones de trading.** *