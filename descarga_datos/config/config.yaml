# Configuración Centralizada - Bot Trader Copilot
# ===================================================

# Configuración General
system:
  name: "Bot Trader Copilot"
  version: "1.0"
  log_level: "INFO"
  log_file: "logs/bot_trader.log"
  auto_launch_dashboard: true  # Lanzar dashboard automáticamente después del backtesting

# Exchange activo por defecto
active_exchange: "bybit"

# Configuración de Exchanges (CCXT)
exchanges:
  bybit:
    enabled: true
    api_key: ""
    api_secret: ""
    sandbox: false
    timeout: 30000

  binance:
    enabled: true
    api_key: ""
    api_secret: ""
    sandbox: false
    timeout: 30000

# Configuración MT5
mt5:
  enabled: true
  terminal_path: ""
  server: "Pepperstone-Demo"
  login: 61406481
  password: "Jatr280371$"
  timeout: 60000

# Configuración de Backtesting
backtesting:
  # Símbolos a procesar - TOP 3 mejores acciones optimizadas
  symbols:
    # Acciones (MT5) - 3 mejores acciones identificadas
    - "AAPL.US"
    - "TSLA.US"
    - "NVDA.US"

  # Configuración temporal - Optimización para 1 año de datos
  timeframe: "15m"
  start_date: "2024-09-20"
  end_date: "2025-09-20"

  # Configuración financiera
  initial_capital: 10000
  commission: 0.1
  slippage: 0.05

  # Estrategias activas - Comparación básica vs compensación
  strategies:
    Estrategia_Basica: true
    Estrategia_Conservadora: false
    Estrategia_Optimizada: false
    Estrategia_Compensacion: true

# Configuración de Indicadores Técnicos
indicators:
  volatility:
    enabled: true
    period: 14

  heiken_ashi:
    enabled: true
    trend_period: 3
    size_comparison_threshold: 1.2

  atr:
    enabled: true
    period: 14

  ema:
    enabled: true
    periods: [10, 20, 200]

  parabolic_sar:
    enabled: true
    acceleration: 0.02
    maximum: 0.2

  adx:
    enabled: true
    period: 14
    threshold: 25

# Configuración de Almacenamiento
storage:
  path: "data"
  csv_enabled: true
  sqlite_enabled: true
  cache_enabled: true

# Configuración de Riesgo
risk:
  risk_percent: 2.0
  tp_atr_multiplier: 2.0
  sl_atr_multiplier: 1.5
  max_drawdown_limit: 20.0

# Configuración de Estrategia de Compensación - Parámetros Optimizados para 20 símbolos
compensation_strategy:
  enabled: true
  loss_threshold: 0.2        # Reducido a 0.2% para activar compensación más temprano
  size_multiplier: 1.5       # Reducido a 1.5x para menos riesgo
  tp_percent: 0.25          # Reducido a 0.25% TP más conservador
  max_account_drawdown: 1.5  # Reducido a 1.5% stop-loss global más estricto
  compensation_max_loss: 0.3 # Reducido a 0.3% límite compensación
  emergency_stop_buffer: 0.8 # 80% del límite para stop anticipado
  risk_multiplier_high_dd: 0.7 # Reducir riesgo 30% si drawdown > 1%

# Configuración de Datos
data:
  use_mt5_for_stocks: true  # Activado ahora que MT5 está configurado
  use_ccxt_for_crypto: true
  max_retries: 3
  retry_delay: 5
  limit_per_request: 1000
  validate_data: true

# Configuración de Reportes
reports:
  save_individual_results: true
  save_equity_curves: true
  save_trade_details: true
  generate_comparison: true
  output_directory: "backtest_results"