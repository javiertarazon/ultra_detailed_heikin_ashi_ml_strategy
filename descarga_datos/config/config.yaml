###############################################
# CONFIGURACIÓN CENTRAL BOT TRADER COPILOT   #
# Versión unificada y optimizada             #
###############################################

system:
  name: "Bot Trader Copilot"
  version: "2.6.0"
  log_level: "INFO"
  log_file: "logs/bot_trader.log"
  auto_launch_dashboard: true

active_exchange: "bybit"

exchanges:
  bybit:
    enabled: true
    api_key: ""
    api_secret: ""
    sandbox: false
    timeout: 30000
  binance:
    enabled: false
    api_key: ""
    api_secret: ""
    sandbox: false
    timeout: 30000

mt5:
  enabled: true
  terminal_path: ""
  server: "Pepperstone-Demo"
  login: 61406481
  password: "Jatr280371$"
  timeout: 60000

backtesting:
  symbols: ["DOGE/USDT", "SOL/USDT", "XRP/USDT", "AVAX/USDT", "SUSHI/USDT"]
  timeframe: "4h"
  start_date: "2023-09-29"
  end_date: "2025-09-29"
  initial_capital: 10000
  commission: 0.1
  slippage: 0.05
  strategies:
    Solana4H: true
    Solana4HSAR: true
    HeikinAshiVolumenSar: true
  strategy_paths:
    Estrategia_Basica: ["strategies.ut_bot_psar", "UTBotPSARStrategy"]
    Estrategia_Compensacion: ["strategies.ut_bot_psar_compensation", "UTBotPSARCompensationStrategy"]
    Solana4H: ["strategies.solana_4h_strategy", "Solana4HStrategy"]
    Solana4HSAR: ["strategies.solana_4h_sar_strategy", "Solana4HSARStrategy"]
    Solana4HTrailing: ["strategies.solana_4h_trailing_strategy", "Solana4HTrailingStrategy"]
    Solana4HRiskManaged: ["strategies.solana_4h_risk_managed_strategy", "Solana4HRiskManagedStrategy"]
    Solana4HOptimizedTrailing: ["strategies.solana_4h_optimized_trailing_strategy", "Solana4HOptimizedTrailingStrategy"]
    HeikinAshiVolumenSar: ["strategies.heikin_ashi_volumen_sar_strategy", "HeikinAshiVolumenSarStrategy"]
    HeikinAshiVolumenSarImproved: ["strategies.heikin_ashi_volumen_sar_strategy_improved", "HeikinAshiVolumenSarStrategyImproved"]
  optimized_parameters: {}
  data_quality:
    min_coverage_pct: 95
    auto_retry: true
    gap_fill:
      enabled: true
      method: forward
      max_consecutive: 6

indicators:
  volatility: { enabled: true, period: 14 }
  heiken_ashi: { enabled: true, trend_period: 3, size_comparison_threshold: 1.2 }
  atr: { enabled: true, period: 14 }
  ema: { enabled: true, periods: [10, 20, 200] }
  parabolic_sar: { enabled: true, acceleration: 0.02, maximum: 0.2 }
  adx: { enabled: true, period: 14, threshold: 25 }

storage:
  path: "data"
  csv_enabled: true
  sqlite_enabled: true
  cache_enabled: true

risk:
  risk_percent: 2.0
  tp_atr_multiplier: 2.0
  sl_atr_multiplier: 1.5
  max_drawdown_limit: 20.0

compensation_strategy:
  enabled: true
  loss_threshold: 0.2
  size_multiplier: 1.5
  tp_percent: 0.25
  max_account_drawdown: 15.0
  compensation_max_loss: 0.3
  emergency_stop_buffer: 0.98
  risk_multiplier_high_dd: 0.7

data:
  use_mt5_for_stocks: true
  use_ccxt_for_crypto: true
  max_retries: 3
  retry_delay: 5
  limit_per_request: 1000
  validate_data: true

reports:
  save_individual_results: true
  save_equity_curves: true
  save_trade_details: true
  generate_comparison: true
  output_directory: "backtest_results"

live_trading:
  enabled: true
  mode: "MT5"
  account_type: "DEMO"
  risk_per_trade: 0.01
  max_positions: 3
  max_positions_per_symbol: 1
  update_interval_seconds: 5
  initial_history_bars: 1000
  apply_risk_management: true
  validation:
    enabled: true
    check_data_integrity: true
    validate_signals: true
    max_signal_age_seconds: 300
  strategy_mapping:
    Solana4H:
      active: true
      symbols: ["SOL/USDT", "AVAX/USDT", "DOGE/USDT"]
      timeframes: ["4h"]
      parameters:
        take_profit_percent: 4.0
        stop_loss_percent: 2.0
